{"openapi":"3.1.0","info":{"title":"notifico-ingest","description":"Notifico Ingest API","license":{"name":""},"version":"0.1.0"},"paths":{"/v1/send":{"post":{"tags":[],"description":"Send an event to the AMQP event bus. Available worker will then run the pipelines for the corresponding event","operationId":"send","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProcessEventRequest"}}},"required":true},"responses":{}}},"/v1/send_webhook":{"post":{"tags":[],"description":"This method accepts any JSON as POST body as a context, so you can use it in your template.\n\nRecipients must be set in Pipeline, using `core.set_recipients` step. This method is intended for any external system that accepts webhook integration,\nso you can create notifications for arbitrary webhooks.","operationId":"send_webhook","parameters":[{"name":"project_id","in":"query","required":false,"schema":{"type":"string","format":"uuid"},"style":"form"},{"name":"event","in":"query","required":true,"schema":{"type":"string"},"style":"form"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventContext"}}},"required":true},"responses":{}}}},"components":{"schemas":{"EventContext":{"type":"object","description":"Event context contains all variables, that will be passed to templating engine.","additionalProperties":{},"propertyNames":{"type":"string"}},"ProcessEventRequest":{"type":"object","required":["event","recipients","context"],"properties":{"context":{"$ref":"#/components/schemas/EventContext"},"event":{"type":"string"},"id":{"type":"string","format":"uuid"},"project_id":{"type":"string","format":"uuid"},"recipients":{"type":"array","items":{"$ref":"#/components/schemas/RecipientSelector"}}}},"Recipient":{"type":"object","required":["contacts"],"properties":{"contacts":{"type":"array","items":{"type":"string","examples":["telegram:123456789","mobile_phone:+123456789","email:Anyone <anyone@example.com>"]}},"id":{"type":"string","format":"uuid","description":"This ID will be used for List-Unsubscribe and other features.\nIt is recommended to store it in an external system and use the same ID for the same Recipient."}}},"RecipientSelector":{"oneOf":[{"$ref":"#/components/schemas/Recipient"}]}}}}